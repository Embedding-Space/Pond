See @docs/SPEC.md for all the wonderful details.