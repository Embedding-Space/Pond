# Pond Configuration
# Copy this to .env and adjust for your environment

# ====================
# REQUIRED
# ====================

# Database connection (PostgreSQL with pgvector extension)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/pond

# Embedding provider: "ollama" for production, "mock" for testing
EMBEDDING_PROVIDER=mock

# ====================
# REQUIRED IF EMBEDDING_PROVIDER=ollama
# ====================

# Ollama API endpoint
OLLAMA_URL=http://localhost:11434

# Ollama embedding model (must be pulled first: ollama pull nomic-embed-text)
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# ====================
# OPTIONAL
# ====================

# API authentication key (if not set, auth is disabled - development only!)
# API_KEY=your-secret-key-here

# Database connection components (parsed from DATABASE_URL if not provided)
# DB_HOST=localhost
# DB_PORT=5432
# DB_USER=postgres
# DB_PASSWORD=postgres
# DB_NAME=pond

# Connection pool settings
# DB_POOL_MIN_SIZE=10
# DB_POOL_MAX_SIZE=20

# Logging
# LOG_LEVEL=INFO
# LOG_FORMAT=json

# Timezone for time display (tries to auto-detect if not set)
# POND_TIMEZONE=America/Los_Angeles

# ====================
# NOTES
# ====================
# 
# For testing:
#   - Tests always use database "pond_test" (hard-coded)
#   - Set EMBEDDING_PROVIDER=mock to avoid needing Ollama
#
# For production:
#   - Set EMBEDDING_PROVIDER=ollama
#   - Ensure Ollama is running with nomic-embed-text model
#   - Set a strong API_KEY
#
# Quick test setup:
#   1. cp .env.example .env
#   2. Ensure PostgreSQL is running with pgvector
#   3. uv run pytest