# Docker Compose Override Configuration
# Copy this file to docker-compose.override.yml when running in Docker
# This overrides DATABASE_URL and OLLAMA_URL to use host.docker.internal

services:
  pond:
    environment:
      # Container always runs on 8000 internally (Docker convention)
      # External port defaults to 19100 (the Pond port) but can be overridden with POND_PORT or PORT
      - PORT=8000
      # Override database connection for Docker
      - DATABASE_URL=postgresql://postgres:password@host.docker.internal:5432/pond
      # Override Ollama endpoint for Docker  
      - OLLAMA_URL=http://host.docker.internal:11434
      # Embedding configuration
      - EMBEDDING_PROVIDER=ollama
      - OLLAMA_EMBEDDING_MODEL=nomic-embed-text
      # Other settings as needed
      - LOG_LEVEL=INFO